<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>RusticCrust Пиццерия</title>
  <link rel="stylesheet" href="styles/style.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
<img src="img/fon_pizza.jpg" alt="Задний фон" class="background">

<!-- Навигационное меню (Navbar) -->
<nav id="navbar">
  <ul>
    <li id="logo"><a href="#main-header"><img src="img/Logo.png" alt="Логотип"></a></li>
    <li><a href="#main-header">Главная</a></li>
    <li><a href="#menu">Меню</a></li>
    <li><a href="#about-location">О нас</a></li>
    <li><a href="#footer">Контакты</a></li>
  </ul>
    <a id="cart-icon"><img src="img/cart.png" alt="Иконка корзины"></a>
</nav>
<div id="container" >

  <!-- Главная страница -->
  <header id="main-header" >
    <h1>Добро пожаловать в RusticCrust!</h1>
    <p>RusticCrust - место, где каждая пицца - это настоящее произведение искусства. Наши пиццы приготовлены с
      любовью и только из свежих ингредиентов. В RusticCrust мы стремимся не только удовлетворить ваш аппетит,
      но и порадовать глаз и душу. Мы верим, что пицца - это не просто блюдо, а настоящее искусство, которое
      можно наслаждаться вместе с близкими и друзьями. Так что, если вы хотите попробовать пиццу, которая не только
      невероятно вкусна, но и выглядит как настоящее произведение искусства, приходите к нам в RusticCrust.
      Мы гарантируем, что каждый кусочек пиццы будет приносить вам настоящее удовольствие и радость.
    </p>
    <div id="carousel-container" class="carousel slide" data-ride="carousel">
      <!-- Индикаторы слайдов -->
      <ol class="carousel-indicators">
        <li data-target="#carousel-container" data-slide-to="0" class="active"></li>
        <li data-target="#carousel-container" data-slide-to="1"></li>
        <li data-target="#carousel-container" data-slide-to="2"></li>
        <!-- Добавьте индикаторы для каждого слайда -->
      </ol>

      <!-- Слайды карусели -->
      <div class="carousel-inner">
        <div class="carousel-item active" >
          <img src="img/stil4.jpg" alt="Интерьер пиццерии" class="d-block w-100">
        </div>
        <div class="carousel-item">
          <img src="img/stil5.jpg" alt="Второе изображение" class="d-block w-100">
        </div>
        <div class="carousel-item">
          <img src="img/stil3.jpg" alt="Третье изображение" class="d-block w-100">
        </div>
      </div>

      <!-- Кнопки "Вперед" и "Назад" -->
      <a class="carousel-control-prev" href="#carousel-container" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carousel-container" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </header>

  <!-- Меню пицц в виде таблицы -->
  <section id="menu" class="section-bg">
    <h2>Меню пицц</h2>
    <table class="pizza-table">
      <tr>
        <td class="pizza-image">
          <img src="img/diablo.jpeg" alt="Пицца 1">
          <h3>"Дьябло"</h3>
        </td>
        <td class="pizza-details">
          <p>Пицца "Дьябло" - это острая пицца, приготовленная на тонком тесте, с соусом на основе томатов и чили. Она оснащена пикантными колбасками, оливками, перцем.</p>
          <p id="price1">Цена: ₽350</p>
        </td>
      </tr>
      <tr>
        <td class="pizza-details">
          <p>Пицца "Пепперони" - это классическая и всеми любимая пицца, приготовленная с тонким тестом и обильным слоем томатного соуса. Она украшена нарезанными пепперони - острой колбасой из говядины, нежным сыром моцарелла и ароматными травами.</p>
          <p id="price2">Цена: ₽410</p>
        </td>
        <td class="pizza-image">
          <img src="img/peppr.jpg" alt="Пицца 2">
          <h3>"Пепперони"</h3>
        </td>
      </tr>
      <tr>
        <td class="pizza-image">
          <img src="img/mex.jpg" alt="Пицца 3">
          <h3>"Мексиканская"</h3>
        </td>
        <td class="pizza-details">
          <p>Пицца "Мексиканская" - это сочная и пикантная пицца, вдохновленная мексиканской кухней. Она имеет густой томатный соус, тонкий тесто и обильно украшена маринованными перцами, кусочками мяса.</p>
          <p id="price3">Цена: ₽405</p>
        </td>
      </tr>
      <tr>
        <td class="pizza-details">
          <p>Пицца "Морская" - это утонченная и вкусная пицца, приготовленная с использованием различных морепродуктов. Она часто имеет основу из ароматного томатного соуса и тонкого теста.</p>
          <p id="price4">Цена: ₽701</p>
        </td>
        <td class="pizza-image">
          <img src="img/sea.jpg" alt="Пицца 4">
          <h3>"Морская"</h3>
        </td>
      </tr>
    </table>
  </section>

  <!-- О нас и местоположение -->
  <section id="about-location" >
    <div id="location">
      <h2>Местоположение</h2>
      <iframe src="https://yandex.ru/map-widget/v1/-/CDUcvX2b" width="600" height="450" style="border:0;"
              allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
    <div id="about">
      <h2>О нас</h2>
      <p>Мы - пиццерия среднего объема, которая с гордостью предлагает своим клиентам вкуснейшей пиццы.
        Наша команда состоит из опытных поваров, которые с любовью готовят каждое блюдо, используя только самые свежие
        ингредиенты. Мы стремимся к тому, чтобы каждая пицца, которую мы приготавливаем, была настоящим шедевром и
        доставляла удовольствие каждому гостю. Мы всегда рады принять ваш заказ и доставить его вам в самое короткое
        время. Кроме того, мы также предлагаем возможность самовывоза, если вы предпочитаете забрать свою пиццу лично.
        Приходите в нашу пиццерию и насладитесь неповторимым вкусом наших блюд. Мы верим, что вы останетесь довольны
        нашим качеством и сервисом. Также советуем подписаться на наш канал о программировании
      </p>
    </div>
  </section>

  <!-- Форма оформления заказа -->
  <section id="order" class="section-bg">
    <h2>Оформление заказа</h2>
    <form id="pizza-order-form" action="#" method="post">
      <div class="form-group">
        <label for="pizza-type">Выберите пиццу:</label>
        <select id="pizza-type" name="pizza-type" required>
          <option value="diablo">"Дьябло"</option>
          <option value="pepperoni">"Пепперони"</option>
          <option value="mexican">"Мексиканская"</option>
          <option value="sea">"Морская"</option>
        </select>
      </div>
      <div class="form-group">
        <label for="quantity">Количество пицц:</label>
        <input type="number" id="quantity" name="quantity" min="1" value="1" required>
      </div>

      <div id="additional-pizza-fields" class="btn-group">

      <template id="additional-pizza-field-template">
        <div class="additional-pizza-field">
          <div class="form-group">
            <label>Выберите другую пиццу:</label>
            <select name="additional-pizza-type" required>
              <option value="diablo">"Дьябло"</option>
              <option value="pepperoni">"Пепперони"</option>
              <option value="mexican">"Мексиканская"</option>
              <option value="sea">"Морская"</option>
            </select>
          </div>
          <div class="form-group">
            <label>Количество пицц:</label>
            <input type="number" name="additional-quantity" min="1" value="1" required>
          </div>
          <button class="remove-pizza-field btn btn-danger">Убрать пиццу</button>
        </div>
      </template>

      </div>
      <button id="add-additional-pizza-field" class="btn btn-primary" type="button">Добавить еще пиццу</button>

      <div class="form-group">
        <label for="phone">Номер телефона:</label>
        <input type="tel" id="phone" name="phone" placeholder="+7 (XXX) XXX-XXXX" required pattern="^(\+7 )?\d{3} \d{3}-\d{4}$">
      </div>
      <div class="form-group">
        <label for="address">Адрес доставки:</label>
        <input type="text" id="address" name="address" required>
      </div>
      <div class="form-group">
        <label for="total-price">Итоговая сумма заказа:</label>
        <span id="total-price">₽350</span>
      </div>
      <div class="form-group">
        <input type="submit" value="Заказать">
      </div>
    </form>
  </section>
</div>
</body>

<!-- Футер -->
<footer id="footer">
  <p>&copy; 2023 RusticCrust Пиццерия</p>
  <p>Адрес: ул. Победы, 85</p>
  <p>Телефон и Email: <a href="tel:+71234567890">+7 (123) 456-7890</a> | <a href="mailto:info@rusticcrust.com">info@rusticcrust.com</a></p>
</footer>

<!-- Скрипт для заказа пиццы -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Функция для обновления итоговой суммы заказа
    function updateTotalPrice() {
      const pizzaType = document.getElementById("pizza-type").value;
      const quantity = parseInt(document.getElementById("quantity").value);
      const prices = {
        diablo: 350,
        pepperoni: 410,
        mexican: 405,
        sea: 701,
      };
      let total = prices[pizzaType] * quantity;
      const additionalPizzas = document.querySelectorAll(".additional-pizza-field");
      additionalPizzas.forEach(function (additionalPizza) {
        const additionalPizzaType = additionalPizza.querySelector("select[name='additional-pizza-type']").value;
        const additionalQuantity = parseInt(additionalPizza.querySelector("input[name='additional-quantity']").value);
        total += prices[additionalPizzaType] * additionalQuantity;
      });

      document.getElementById("total-price").textContent = `₽${total}`;
    }

    // Функция для добавления поля выбора другой пиццы и количества
    function addAdditionalPizzaField() {
      const additionalFields = document.getElementById("additional-pizza-fields");
      const template = document.getElementById("additional-pizza-field-template");
      const newPizzaField = template.content.cloneNode(true);
      additionalFields.appendChild(newPizzaField);
      updateEventListeners();
    }

    // Функция для удаления поля выбора другой пиццы и количества
    function removeAdditionalPizzaField(field) {
      const additionalFields = document.getElementById("additional-pizza-fields");
      additionalFields.removeChild(field);
      updateEventListeners();
      updateTotalPrice();
    }

    // Функция для обновления обработчиков событий
    function updateEventListeners() {
      const removeButtons = document.querySelectorAll(".remove-pizza-field");
      removeButtons.forEach(function (button) {
        button.addEventListener("click", function () {
          removeAdditionalPizzaField(button.parentElement);
        });
      });
      const selects = document.querySelectorAll("select[name='additional-pizza-type']");
      const inputs = document.querySelectorAll("input[name='additional-quantity']");
      selects.forEach(function (select) {
        select.addEventListener("change", updateTotalPrice);
      });
      inputs.forEach(function (input) {
        input.addEventListener("input", updateTotalPrice);
      });
    }
    document.getElementById("add-additional-pizza-field").addEventListener("click", addAdditionalPizzaField);
    document.getElementById("pizza-type").addEventListener("change", updateTotalPrice);
    document.getElementById("quantity").addEventListener("input", updateTotalPrice);

    // Обработчик для отправки заказа с подтверждением
    const orderForm = document.getElementById("pizza-order-form");
    orderForm.addEventListener("submit", function (event) {
      event.preventDefault();
      const isConfirmed = confirm("Вы уверены, что хотите сделать заказ?");
      if (isConfirmed) {
        orderForm.submit();
      }
    });
    updateEventListeners();
    updateTotalPrice();
  });
</script>
</html>
